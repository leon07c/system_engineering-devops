#!/usr/bin/env bash
# 1. Ensure the function clearly prints the required message
invincible() {
    echo "I am invincible!!!"
    # You might want to add a brief sleep here to ensure the output
    # buffer is flushed before the next "To infinity..." message.
    # sleep 0.1 
}

# 2. Ensure the trap command uses the correct signal name or number (SIGTERM or 15)
trap invincible SIGTERM

while true; do
    echo "To infinity and beyond"
    sleep 2
done

#!/usr/bin/env bash

# Ensure this correctly targets the running script
PID=$(pgrep -f "7-highlander")

if [ -z "$PID" ]; then
    echo "The 7-highlander script is not running."
else
    # Ensure you are sending a standard kill/SIGTERM
    # kill $PID  # This is usually sufficient
    kill -15 "$PID" # Explicitly sending SIGTERM (signal 15)
    echo "Sent SIGTERM (signal 15) to process $PID (7-highlander)."
fi
