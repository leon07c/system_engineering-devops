#!/usr/bin/env bash
# Function to execute when SIGTERM (signal 15) is received
invincible() {
    echo "I am invincible!!!"
    # The script continues the loop after this function executes
}

# Trap the SIGTERM signal (15) and call the 'invincible' function
trap invincible SIGTERM

# Infinite loop
while true; do
    echo "To infinity and beyond"
    sleep 2
done

#!/usr/bin/env bash
# Find the Process ID (PID) of the running '7-highlander' script.
# We use 'pgrep -f' to search the full command line, ensuring we target
# the correct process, especially important when using 'env bash'.
PID=$(pgrep -f "7-highlander")

# Check if a PID was found
if [ -z "$PID" ]; then
    echo "The 7-highlander script is not running."
else
    # Send SIGTERM (signal 15) to the process
    # kill without a -signal option sends SIGTERM
    kill "$PID"
    echo "Sent SIGTERM (signal 15) to process $PID (7-highlander)."
fi
